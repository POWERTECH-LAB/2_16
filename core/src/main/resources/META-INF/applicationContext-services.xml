<?xml version="1.0" encoding="UTF-8"?>
<!-- Generated by: applicationContext.xml.vsl in andromda-spring-cartridge. -->
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xmlns:task="http://www.springframework.org/schema/task"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd

       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
       http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.1.xsd">

    <!-- ========================= Start of SERVICE DEFINITIONS ========================= -->

    <tx:annotation-driven transaction-manager="transactionManager"/>
    
    <task:annotation-driven/>

    <bean id="lookupService" class="ch.algotrader.service.LookupServiceImpl" >
        <constructor-arg index="0" ref="coreConfig"/>
        <constructor-arg index="1" ref="sessionFactory"/>
        <constructor-arg index="2" ref="genericDao"/>
        <constructor-arg index="3" ref="futureFamilyDao"/>
        <constructor-arg index="4" ref="futureDao"/>
        <constructor-arg index="5" ref="forexDao"/>
        <constructor-arg index="6" ref="securityFamilyDao"/>
        <constructor-arg index="7" ref="optionFamilyDao"/>
        <constructor-arg index="8" ref="tickDao"/>
        <constructor-arg index="9" ref="optionDao"/>
        <constructor-arg index="10" ref="transactionDao"/>
        <constructor-arg index="11" ref="positionDao"/>
        <constructor-arg index="12" ref="strategyDao"/>
        <constructor-arg index="13" ref="securityDao"/>
        <constructor-arg index="14" ref="cashBalanceDao"/>
        <constructor-arg index="15" ref="subscriptionDao"/>
        <constructor-arg index="16" ref="combinationDao"/>
        <constructor-arg index="17" ref="componentDao"/>
        <constructor-arg index="18" ref="measurementDao"/>
        <constructor-arg index="19" ref="barDao"/>
        <constructor-arg index="20" ref="orderDao"/>
        <constructor-arg index="21" ref="orderStatusDao"/>
        <constructor-arg index="22" ref="orderPreferenceDao"/>
        <constructor-arg index="23" ref="defaultOrderPreferenceDao"/>
        <constructor-arg index="24" ref="accountDao"/>
        <constructor-arg index="25" ref="stockDao"/>
        <constructor-arg index="26" ref="intrestRateDao"/>
        <constructor-arg index="27" ref="easyToBorrowDao"/>
    </bean>


    <bean id="futureService" class="ch.algotrader.service.FutureServiceImpl" >
        <constructor-arg index="0" ref="commonConfig"/>
        <constructor-arg index="1" ref="coreConfig"/>
        <constructor-arg index="2" ref="futureFamilyDao"/>
        <constructor-arg index="3" ref="futureDao"/>
    </bean>

     <bean id="positionService" class="ch.algotrader.service.PositionServiceImpl" >
        <constructor-arg index="0" ref="commonConfig"/>
        <constructor-arg index="1" ref="transactionService"/>
        <constructor-arg index="2" ref="marketDataService"/>
        <constructor-arg index="3" ref="orderService"/>
        <constructor-arg index="4" ref="portfolioService"/>
        <constructor-arg index="5" ref="positionDao"/>
        <constructor-arg index="6" ref="defaultOrderPreferenceDao"/>
        <constructor-arg index="7" ref="securityDao"/>
        <constructor-arg index="8" ref="strategyDao"/>
        <constructor-arg index="9" ref="transactionDao"/>
    </bean>

    <bean id="serverManagementService" class="ch.algotrader.service.ServerManagementServiceImpl" >
        <constructor-arg index="0" ref="positionService"/>
        <constructor-arg index="1" ref="forexService"/>
        <constructor-arg index="2" ref="combinationService"/>
        <constructor-arg index="3" ref="transactionService"/>
        <constructor-arg index="4" ref="optionService"/>
        <constructor-arg index="5" ref="orderService"/>
    </bean>

    <bean id="optionService" class="ch.algotrader.service.OptionServiceImpl" >
        <constructor-arg index="0" ref="commonConfig"/>
        <constructor-arg index="1" ref="coreConfig"/>
        <constructor-arg index="2" ref="marketDataService"/>
        <constructor-arg index="3" ref="lookupService"/>
        <constructor-arg index="4" ref="futureService"/>
        <constructor-arg index="5" ref="orderService"/>
        <constructor-arg index="6" ref="securityDao"/>
        <constructor-arg index="7" ref="tickDao"/>
        <constructor-arg index="8" ref="optionFamilyDao"/>
        <constructor-arg index="9" ref="optionDao"/>
        <constructor-arg index="10" ref="positionDao"/>
        <constructor-arg index="11" ref="subscriptionDao"/>
        <constructor-arg index="12" ref="futureFamilyDao"/>
        <constructor-arg index="13" ref="strategyDao"/>
    </bean>

    <bean id="forexService" class="ch.algotrader.service.ForexServiceImpl" >
        <constructor-arg index="0" ref="commonConfig"/>
        <constructor-arg index="1" ref="coreConfig"/>
        <constructor-arg index="2" ref="orderService"/>
        <constructor-arg index="3" ref="portfolioService"/>
        <constructor-arg index="4" ref="lookupService"/>
        <constructor-arg index="5" ref="futureService"/>
        <constructor-arg index="6" ref="marketDataService"/>
        <constructor-arg index="7" ref="forexDao"/>
        <constructor-arg index="8" ref="strategyDao"/>
        <constructor-arg index="9" ref="subscriptionDao"/>
        <constructor-arg index="10" ref="futureFamilyDao"/>
    </bean>

    <bean id="transactionService" class="ch.algotrader.service.TransactionServiceImpl" >
        <constructor-arg index="0" ref="commonConfig"/>
        <constructor-arg index="1" ref="coreConfig"/>
        <constructor-arg index="2" ref="transactionPersistenceService"/>
        <constructor-arg index="3" ref="portfolioService"/>
        <constructor-arg index="4" ref="strategyDao"/>
        <constructor-arg index="5" ref="securityDao"/>
        <constructor-arg index="6" ref="accountDao"/>
    </bean>

    <bean id="marketDataService" class="ch.algotrader.service.MarketDataServiceImpl" >
        <constructor-arg index="0" ref="commonConfig"/>
        <constructor-arg index="1" ref="coreConfig"/>
        <constructor-arg index="2" ref="sessionFactory"/>
        <constructor-arg index="3" ref="tickDao"/>
        <constructor-arg index="4" ref="securityDao"/>
        <constructor-arg index="5" ref="strategyDao"/>
        <constructor-arg index="6" ref="subscriptionDao"/>
    </bean>

    <bean id="orderPersistenceService" class="ch.algotrader.service.OrderPersistenceServiceImpl">
        <constructor-arg index="0" ref="orderDao"/>
        <constructor-arg index="1" ref="marketOrderDao"/>
        <constructor-arg index="2" ref="limitOrderDao"/>
        <constructor-arg index="3" ref="stopOrderDao"/>
        <constructor-arg index="4" ref="stopLimitOrderDao"/>
        <constructor-arg index="5" ref="orderPropertyDao"/>
        <constructor-arg index="6" ref="orderStatusDao"/>
    </bean>

    <bean id="orderService" class="ch.algotrader.service.OrderServiceImpl" >
        <constructor-arg index="0" ref="commonConfig"/>
        <constructor-arg index="1" ref="sessionFactory"/>
        <constructor-arg index="2" ref="orderDao"/>
        <constructor-arg index="3" ref="orderStatusDao"/>
        <constructor-arg index="4" ref="strategyDao"/>
        <constructor-arg index="5" ref="securityDao"/>
        <constructor-arg index="6" ref="accountDao"/>
        <constructor-arg index="7" ref="orderPersistenceService"/>
    </bean>

    <bean id="combinationService" class="ch.algotrader.service.CombinationServiceImpl" >
        <constructor-arg index="0" ref="commonConfig"/>
        <constructor-arg index="1" ref="sessionFactory"/>
        <constructor-arg index="2" ref="positionService"/>
        <constructor-arg index="3" ref="marketDataService"/>
        <constructor-arg index="4" ref="combinationDao"/>
        <constructor-arg index="5" ref="positionDao"/>
        <constructor-arg index="6" ref="securityDao"/>
        <constructor-arg index="7" ref="componentDao"/>
        <constructor-arg index="8" ref="securityFamilyDao"/>
    </bean>

    <bean id="measurementService" class="ch.algotrader.service.MeasurementServiceImpl" >
        <constructor-arg index="0" ref="measurementDao"/>
        <constructor-arg index="1" ref="strategyDao"/>
    </bean>

    <bean id="propertyService" class="ch.algotrader.service.PropertyServiceImpl" >
        <constructor-arg index="0" ref="propertyDao"/>
        <constructor-arg index="1" ref="propertyHolderDao"/>
    </bean>

    <bean id="portfolioService" class="ch.algotrader.service.PortfolioServiceImpl" >
        <constructor-arg index="0" ref="commonConfig"/>
        <constructor-arg index="1" ref="coreConfig"/>
        <constructor-arg index="2" ref="lookupService"/>
        <constructor-arg index="3" ref="sessionFactory"/>
        <constructor-arg index="4" ref="genericDao"/>
        <constructor-arg index="5" ref="strategyDao"/>
        <constructor-arg index="6" ref="transactionDao"/>
        <constructor-arg index="7" ref="positionDao"/>
        <constructor-arg index="8" ref="cashBalanceDao"/>
        <constructor-arg index="9" ref="portfolioValueDao"/>
        <constructor-arg index="10" ref="tickDao"/>
        <constructor-arg index="11" ref="forexDao"/>
    </bean>

    <bean id="portfolioChartService" class="ch.algotrader.service.PortfolioChartServiceImpl" >
        <constructor-arg index="0" ref="portfolioChartDefinition"/>
        <constructor-arg index="1" ref="commonConfig"/>
        <constructor-arg index="2" ref="portfolioService"/>
    </bean>

    <bean id="calendarService" class="ch.algotrader.service.CalendarServiceImpl" >
       <constructor-arg index="0" ref="exchangeDao"/>
    </bean>

    <bean id="managementService" class="ch.algotrader.service.ManagementServiceImpl" >
        <constructor-arg index="0" ref="commonConfig"/>
        <constructor-arg index="1" ref="subscriptionService"/>
        <constructor-arg index="2" ref="lookupService"/>
        <constructor-arg index="3" ref="portfolioService"/>
        <constructor-arg index="4" ref="orderService"/>
        <constructor-arg index="5" ref="positionService"/>
        <constructor-arg index="6" ref="combinationService"/>
        <constructor-arg index="7" ref="propertyService"/>
        <constructor-arg index="8" ref="marketDataService"/>
        <constructor-arg index="9" ref="configParams"/>
    </bean>

    <bean id="subscriptionService" class="ch.algotrader.service.SubscriptionServiceImpl" >
        <constructor-arg index="0" ref="commonConfig"/>
        <constructor-arg index="1" ref="marketDataService"/>
        <constructor-arg index="2" ref="lookupService"/>
    </bean>

    <bean id="lazyLoaderService" class="ch.algotrader.service.LazyLoaderServiceImpl" >
        <constructor-arg index="0" ref="sessionFactory"/>
    </bean>

  <!-- ========================= End of SERVICE DEFINITIONS ========================= -->

    <!-- ========================= Start of PROFILE SERVICE DEFINITIONS ========================= -->

    <beans profile="simulation,noopSimulation">
        <bean id="simulationService" class="ch.algotrader.service.SimulationServiceImpl" >
            <constructor-arg index="0"  ref="commonConfig"/>
            <constructor-arg index="1"  ref="positionService"/>
            <constructor-arg index="2"  ref="resetService"/>
            <constructor-arg index="3"  ref="transactionService"/>
            <constructor-arg index="4"  ref="portfolioService"/>
            <constructor-arg index="5"  ref="lookupService"/>
            <constructor-arg index="6"  ref="cacheManager"/>
        </bean>
    </beans>

    <beans profile="singleDataSource,pooledDataSource">
        <bean id="transactionPersistenceService" class="ch.algotrader.service.mysql.MySqlTransactionPersistenceServiceImpl" >
            <constructor-arg index="0" ref="commonConfig"/>
            <constructor-arg index="1" ref="portfolioService"/>
            <constructor-arg index="2" ref="sessionFactory"/>
            <constructor-arg index="3" ref="positionDao"/>
            <constructor-arg index="4" ref="transactionDao"/>
            <constructor-arg index="5" ref="cashBalanceDao"/>
        </bean>
    </beans>

    <beans profile="embeddedDataSource">
	    <bean id="transactionPersistenceService" class="ch.algotrader.service.h2.H2TransactionPersistenceServiceImpl" >
	        <constructor-arg index="0" ref="commonConfig"/>
	        <constructor-arg index="1" ref="portfolioService"/>
	        <constructor-arg index="2" ref="sessionFactory"/>
	        <constructor-arg index="3" ref="positionDao"/>
	        <constructor-arg index="4" ref="transactionDao"/>
	        <constructor-arg index="5" ref="cashBalanceDao"/>
	    </bean>
    </beans>

    <beans profile="iBNative">
        <bean id="iBNativeAccountService" class="ch.algotrader.service.ib.IBNativeAccountServiceImpl" >
            <constructor-arg index="0"  ref="accountUpdateQueue"/>
            <constructor-arg index="1"  ref="accountsQueue"/>
            <constructor-arg index="2"  ref="profilesQueue"/>
            <constructor-arg index="3"  ref="iBSession"/>
        </bean>

        <alias name="iBNativeAccountService" alias="accountService"/>
    </beans>

    <beans profile="iBHistoricalData">
        <bean id="iBNativeHistoricalDataService" class="ch.algotrader.service.ib.IBNativeHistoricalDataServiceImpl" >
            <constructor-arg index="0"  ref="historicalDataQueue"/>
            <constructor-arg index="1"  ref="iBSession"/>
            <constructor-arg index="2"  ref="iBConfig"/>
            <constructor-arg index="3"  ref="iBIdGenerator"/>
            <constructor-arg index="4"  ref="securityDao"/>
            <constructor-arg index="5"  ref="barDao"/>
        </bean>

        <alias name="iBNativeHistoricalDataService" alias="historicalDataService"/>
    </beans>

    <beans profile="iBReferenceData">
        <bean id="iBNativeReferenceDataService" class="ch.algotrader.service.ib.IBNativeReferenceDataServiceImpl" >
            <constructor-arg index="0"  ref="contractDetailsQueue"/>
            <constructor-arg index="1"  ref="iBSession"/>
            <constructor-arg index="2"  ref="iBIdGenerator"/>
            <constructor-arg index="3"  ref="optionDao"/>
            <constructor-arg index="4"  ref="futureDao"/>
            <constructor-arg index="5"  ref="securityFamilyDao"/>
            <constructor-arg index="6"  ref="stockDao"/>
        </bean>

        <alias name="iBNativeReferenceDataService" alias="referenceDataService"/>
    </beans>

    <beans profile="iBNative">
        <bean id="iBNativeOrderService" class="ch.algotrader.service.ib.IBNativeOrderServiceImpl" >
            <constructor-arg index="0"  ref="iBSession"/>
            <constructor-arg index="1"  ref="iBIdGenerator"/>
            <constructor-arg index="2"  ref="iBOrderMessageFactory"/>
            <constructor-arg index="3"  ref="orderService"/>
            <constructor-arg index="4"  ref="openOrderCache"/>
        </bean>
    </beans>

    <beans profile="iBMarketData">
        <bean id="iBNativeMarketDataService" class="ch.algotrader.service.ib.IBNativeMarketDataServiceImpl" >
            <constructor-arg index="0" ref="commonConfig"/>
            <constructor-arg index="1"  ref="iBSession"/>
            <constructor-arg index="2"  ref="iBIdGenerator"/>
            <constructor-arg index="3"  ref="iBConfig"/>
            <constructor-arg index="4"  ref="tickDao"/>
            <constructor-arg index="5"  ref="securityDao"/>
        </bean>
    </beans>

    <beans profile="iBFix">
        <bean id="iBFixOrderService" class="ch.algotrader.service.ib.IBFixOrderServiceImpl" >
            <constructor-arg index="0"  ref="iBConfig"/>
            <constructor-arg index="1"  ref="fixAdapter"/>
            <constructor-arg index="2"  ref="orderService"/>
        </bean>
    </beans>

    <beans profile="iBFix">
        <bean id="iBFixAccountService" class="ch.algotrader.service.ib.IBFixAccountServiceImpl" >
            <constructor-arg index="0" ref="fixAdapter"/>
            <constructor-arg index="1" ref="lookupService"/>
        </bean>

        <alias name="iBFixAccountService" alias="accountService"/>
    </beans>

    <beans profile="misc">
        <bean id="importService" class="ch.algotrader.service.ImportServiceImpl" >
            <constructor-arg index="0" ref="commonConfig"/>
            <constructor-arg index="1" ref="sessionFactory"/>
            <constructor-arg index="2" ref="securityDao"/>
            <constructor-arg index="3" ref="tickDao"/>
            <constructor-arg index="4" ref="optionFamilyDao"/>
            <constructor-arg index="5" ref="optionDao"/>
        </bean>
    </beans>

     <beans profile="simulation,noopSimulation">
        <bean id="resetService" class="ch.algotrader.service.ResetServiceImpl" >
            <constructor-arg index="0"  ref="coreConfig"/>
            <constructor-arg index="1"  ref="securityDao"/>
            <constructor-arg index="2"  ref="futureDao"/>
            <constructor-arg index="3"  ref="transactionDao"/>
            <constructor-arg index="4"  ref="positionDao"/>
            <constructor-arg index="5"  ref="subscriptionDao"/>
            <constructor-arg index="6"  ref="optionDao"/>
            <constructor-arg index="7"  ref="strategyDao"/>
            <constructor-arg index="8"  ref="cashBalanceDao"/>
            <constructor-arg index="9"  ref="combinationDao"/>
            <constructor-arg index="10"  ref="componentDao"/>
            <constructor-arg index="11"  ref="propertyDao"/>
            <constructor-arg index="12"  ref="measurementDao"/>
        </bean>
    </beans>

     <beans profile="jPMFix">
        <bean id="jPMFixOrderService" class="ch.algotrader.service.jpm.JPMFixOrderServiceImpl" >
            <constructor-arg index="0"  ref="fixAdapter"/>
            <constructor-arg index="1"  ref="orderService"/>
        </bean>

    </beans>

    <beans profile="dCFix">
        <bean id="dCFixOrderService" class="ch.algotrader.service.dc.DCFixOrderServiceImpl" >
            <constructor-arg index="0"  ref="fixAdapter"/>
            <constructor-arg index="1"  ref="orderService"/>
        </bean>
    </beans>

    <beans profile="dCMarketData">
        <bean id="dCFixMarketDataService" class="ch.algotrader.service.dc.DCFixMarketDataServiceImpl" >
            <constructor-arg index="0" ref="commonConfig"/>
            <constructor-arg index="1"  ref="dCMarketDataSessionLifeCycle"/>
            <constructor-arg index="2"  ref="fixAdapter"/>
            <constructor-arg index="3"  ref="securityDao"/>
        </bean>
    </beans>

    <beans profile="bBMarketData">
        <bean id="bBMarketDataService" class="ch.algotrader.service.bb.BBMarketDataServiceImpl" >
            <constructor-arg index="0" ref="commonConfig"/>
            <constructor-arg index="1"  ref="bBAdapter"/>
            <constructor-arg index="2"  ref="tickDao"/>
            <constructor-arg index="3"  ref="securityDao"/>
        </bean>
    </beans>

    <beans profile="bBHistoricalData">
        <bean id="bBHistoricalDataService" class="ch.algotrader.service.bb.BBHistoricalDataServiceImpl" >
            <constructor-arg index="0"  ref="bBAdapter"/>
            <constructor-arg index="1"  ref="securityDao"/>
            <constructor-arg index="2"  ref="barDao"/>
        </bean>

        <alias name="bBHistoricalDataService" alias="historicalDataService"/>
    </beans>

    <beans profile="bBReferenceData">
        <bean id="bBReferenceDataService" class="ch.algotrader.service.bb.BBReferenceDataServiceImpl" >
            <constructor-arg index="0"  ref="bBAdapter"/>
            <constructor-arg index="1"  ref="securityFamilyDao"/>
            <constructor-arg index="2"  ref="optionDao"/>
            <constructor-arg index="3"  ref="futureDao"/>
        </bean>

        <alias name="bBReferenceDataService" alias="referenceDataService"/>
    </beans>

    <beans profile="rTFix">
        <bean id="rTFixOrderService" class="ch.algotrader.service.rt.RTFixOrderServiceImpl" >
            <constructor-arg index="0"  ref="fixAdapter"/>
            <constructor-arg index="1"  ref="orderService"/>
        </bean>
    </beans>

    <beans profile="lMAXFix">
        <bean id="lMAXFixOrderService" class="ch.algotrader.service.lmax.LMAXFixOrderServiceImpl" >
             <constructor-arg index="0"  ref="fixAdapter"/>
             <constructor-arg index="1"  ref="orderService"/>
        </bean>
    </beans>

    <beans profile="lMAXMarketData">
        <bean id="lMAXFixMarketDataService" class="ch.algotrader.service.lmax.LMAXFixMarketDataServiceImpl" >
            <constructor-arg index="0" ref="commonConfig"/>
            <constructor-arg index="1"  ref="lMAXMarketDataSessionLifeCycle"/>
            <constructor-arg index="2"  ref="fixAdapter"/>
            <constructor-arg index="3"  ref="securityDao"/>
        </bean>
    </beans>

    <beans profile="fXCMFix">
        <bean id="fXCMFixOrderService" class="ch.algotrader.service.fxcm.FXCMFixOrderServiceImpl" >
             <constructor-arg index="0"  ref="fixAdapter"/>
             <constructor-arg index="1"  ref="orderService"/>
        </bean>
    </beans>

    <beans profile="fXCMMarketData">
        <bean id="fXCMFixMarketDataService" class="ch.algotrader.service.fxcm.FXCMFixMarketDataServiceImpl" >
            <constructor-arg index="0" ref="commonConfig"/>
            <constructor-arg index="1"  ref="fXCMSessionLifeCycle"/>
            <constructor-arg index="2"  ref="fixAdapter"/>
            <constructor-arg index="3"  ref="securityDao"/>
        </bean>
    </beans>

    <beans profile="simulation">
        <bean id="simulationOrderService" class="ch.algotrader.service.sim.SimulationOrderServiceImpl" >
            <constructor-arg index="0"  ref="transactionService"/>
            <constructor-arg index="1"  ref="orderService"/>
        </bean>
    </beans>

    <beans profile="cNXMarketData">
        <bean id="cNXFixMarketDataService" class="ch.algotrader.service.cnx.CNXFixMarketDataServiceImpl" >
            <constructor-arg index="0" ref="commonConfig"/>
            <constructor-arg index="1"  ref="cNXMarketDataSessionLifeCycle"/>
            <constructor-arg index="2"  ref="fixAdapter"/>
            <constructor-arg index="3"  ref="securityDao"/>
        </bean>
    </beans>

    <beans profile="cNXFix">
        <bean id="cNXFixOrderService" class="ch.algotrader.service.cnx.CNXFixOrderServiceImpl" >
            <constructor-arg index="0"  ref="fixAdapter"/>
            <constructor-arg index="1"  ref="orderService"/>
        </bean>
    </beans>

    <beans profile="fTXMarketData">
        <bean id="fTXFixMarketDataService" class="ch.algotrader.service.ftx.FTXFixMarketDataServiceImpl" >
            <constructor-arg index="0" ref="commonConfig"/>
            <constructor-arg index="1"  ref="fTXMarketDataSessionLifeCycle"/>
            <constructor-arg index="2"  ref="fixAdapter"/>
            <constructor-arg index="3"  ref="securityDao"/>
        </bean>
    </beans>

    <beans profile="fTXFix">
        <bean id="fTXFixOrderService" class="ch.algotrader.service.ftx.FTXFixOrderServiceImpl" >
            <constructor-arg index="0"  ref="fixAdapter"/>
            <constructor-arg index="1"  ref="orderService"/>
        </bean>
    </beans>

    <!-- ========================= End of PROFILE SERVICE DEFINITIONS ========================= -->

</beans>

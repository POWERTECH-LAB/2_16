<?xml version="1.0" encoding="UTF-8"?>
<esper-configuration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://www.espertech.com/schema/esper"
    xsi:schemaLocation="http://www.espertech.com/schema/esper http://www.espertech.com/schema/esper/esper-configuration-4-0.xsd">

    <!--  Market Data Events -->
    <event-type name="MarketDataEvent" class="ch.algotrader.entity.marketData.MarketDataEvent"/>
    <event-type name="Tick" class="ch.algotrader.entity.marketData.Tick">
        <legacy-type accessor-style="javabean" code-generation="enabled" property-resolution-style="case_sensitive" factory-method="ch.algotrader.entity.marketData.Tick$Factory.newInstance"/>
    </event-type>
    <event-type name="Bar" class="ch.algotrader.entity.marketData.Bar">
        <legacy-type accessor-style="javabean" code-generation="enabled" property-resolution-style="case_sensitive" factory-method="ch.algotrader.entity.marketData.Bar$Factory.newInstance"/>
    </event-type>

    <!-- Trades -->
    <event-type name="Order" class="ch.algotrader.entity.trade.Order"/>
    <event-type name="OrderStatus" class="ch.algotrader.entity.trade.OrderStatus">
        <legacy-type accessor-style="javabean" code-generation="enabled" property-resolution-style="case_sensitive" factory-method="ch.algotrader.entity.trade.OrderStatus$Factory.newInstance"/>
    </event-type>
    <event-type name="Fill" class="ch.algotrader.entity.trade.Fill">
        <legacy-type accessor-style="javabean" code-generation="enabled" property-resolution-style="case_sensitive"  factory-method="ch.algotrader.entity.trade.Fill$Factory.newInstance"/>
    </event-type>
    <event-type name="Transaction" class="ch.algotrader.entity.Transaction"/>

    <!-- Value Objects -->
    <event-type name="OpenPosition" class="ch.algotrader.vo.OpenPositionVO"/>
    <event-type name="ClosePosition" class="ch.algotrader.vo.ClosePositionVO"/>
    <event-type name="ExpirePosition" class="ch.algotrader.vo.ExpirePositionVO"/>
    <event-type name="BarVO" class="ch.algotrader.vo.BarVO"/>

    <!--  Metrics -->
<!--     <event-type name="StatementMetric" class="ch.algotrader.vo.StatementMetricVO"/> -->

    <!-- Enumerations -->
    <auto-import import-name="ch.algotrader.enumeration.Direction"/>
    <auto-import import-name="ch.algotrader.enumeration.Side"/>
    <auto-import import-name="ch.algotrader.enumeration.Status"/>
    <auto-import import-name="ch.algotrader.enumeration.TimePeriod"/>
    <auto-import import-name="ch.algotrader.enumeration.TransactionType"/>
    <auto-import import-name="ch.algotrader.enumeration.ExpirationType"/>
    <auto-import import-name="ch.algotrader.enumeration.OptionType"/>

    <!-- Utils -->
    <auto-import import-name="ch.algotrader.option.OptionUtil"/>
    <auto-import import-name="ch.algotrader.future.FutureUtil"/>
    <auto-import import-name="ch.algotrader.util.LookupUtil"/>
    <auto-import import-name="ch.algotrader.util.RoundUtil"/>
    <auto-import import-name="ch.algotrader.util.MathUtil"/>
    <auto-import import-name="ch.algotrader.util.DrawDownUtil"/>
    <auto-import import-name="ch.algotrader.util.DateUtil"/>
    <auto-import import-name="ch.algotrader.util.OrderUtil"/>
    <auto-import import-name="ch.algotrader.esper.Constants"/>

    <!-- Annotations -->
    <auto-import import-name="ch.algotrader.esper.annotation.*"/>

    <!-- Java -->
    <auto-import import-name="java.lang.*"/>
    <auto-import import-name="java.math.*"/>
    <auto-import import-name="java.text.*"/>
    <auto-import import-name="java.util.*"/>

    <plugin-view factory-class="ch.algotrader.esper.ohlc.OHLCViewFactory" name="ohlcbar" namespace="custom"/>

    <plugin-aggregation-function name="talib" factory-class="ch.algotrader.esper.aggregation.GenericTALibFunctionFactory"/>

    <!-- Constants -->
    <variable name="simulation" type="boolean" constant="true"/>
    <variable name="engineStrategy" type="ch.algotrader.entity.strategy.Strategy" constant="true"/>
    <variable name="dataSource_barSize" type="ch.algotrader.enumeration.Duration" constant="true"/>
    <variable name="dataSource_dataSetType" type="ch.algotrader.enumeration.MarketDataType" constant="true"/>
    <variable name="misc_portfolioStartHour" type="int" constant="true"/>
    <variable name="misc_portfolioEndHour" type="int" constant="true"/>

    <!-- Variables -->
    <variable name="internal_clock" type="boolean" initialization-value="false"/>

    <!-- Esper JMX -->
    <plugin-loader name="EsperJMX" class-name="com.espertech.esper.jmx.client.EsperJMXPlugin">
        <init-arg name="use-platform-mbean-server" value="true" />
    </plugin-loader>

    <!-- Esper HQ -->
<!--     <plugin-loader name="EndpointMgmt" class-name="com.espertech.esperdds.client.EndpointMgmtPlugin"> -->
<!--         <init-arg name="esperdds.configuration.file" value="esperdds.cfg.xml" /> -->
<!--     </plugin-loader> -->

<!--     <plugin-loader name="EsperHQ_Webapp_Service" class-name="com.espertech.esper.server.webapp.WebAppPlugin"> -->
<!--         <init-arg name="port" value="8400" /> -->
<!--         <init-arg name="webapps" value="esperhq@webapps/esperhq" /> -->
<!--     </plugin-loader>     -->

    <!-- Engine Settings -->
    <engine-settings>
        <defaults>
            <threading>
                <internal-timer enabled="false" msec-resolution="100"/>
            </threading>
            <expression udf-cache="false" math-context="precision=2 roundingMode=HALF_UP"/>
            <execution prioritized="true"/>
<!--             <metrics-reporting enabled="true" engine-interval="-1" statement-interval="86400000" />         -->
<!--             <metrics-reporting enabled="true" engine-interval="-1" statement-interval="10000" />         -->
        </defaults>
    </engine-settings>

</esper-configuration>
